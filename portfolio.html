<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>My Portfolio</title>

  <!-- Link to External CSS -->
  <link rel="stylesheet" href="style.css"/>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet"/>
</head>

<!-- Main body with 'portfolio-page' class to limit certain effects to this page -->
<body class="portfolio-page">

  <!-- âœ¨ Twinkling Stars Container -->

  <!-- ðŸ” Header Navigation -->
  <header>
    <div class="container">
      <h1 class="logo">Nergal's Portfolio</h1>
      <div class="menu-toggle" id="menu-toggle">&#9776;</div>
      <nav>
        <ul class="nav-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="portfolio.html">Adobe</a></li>
          <li><a href="#photoshop">Photoshop</a></li>
          <li><a href="#indesign">InDesign</a></li>
          <li><a href="#illustrator">Illustrator</a></li>
          <li><a href="#after-effects">After Effects</a></li>
          <li><a href="#software-engineering">Software Engineering</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- ðŸ“„ Main Content -->
  <main>
    <!-- ðŸ‘‹ Hero Section -->
    <section class="hero">
      <div id="js-stars"></div>

      <h2>Welcome to My Portfolio</h2>
      <p>Explore my creative and technical projects below.</p>
    </section>

    <!-- ðŸ–¼ï¸ Photoshop Projects -->
    <section id="photoshop" class="portfolio-gallery">
      <h2>Photoshop Projects</h2>
      <figure>
        <img src="Images/MMA100Fall24Proj2_NergalPrescodREVISED.png" alt="The Hero's Journey" />
        <figcaption>The Hero's Journey</figcaption>
      </figure>
      <figure>
        <img src="Images/creation2.jpg" alt="Who started the fire?" />
        <figcaption>Who started the fire?</figcaption>
      </figure>
      <figure>
        <img src="Images/creation3.jpeg" alt="Dive" />
        <figcaption>Dive</figcaption>
      </figure>
    </section>

    <!-- ðŸ“° InDesign Projects -->
    <section id="indesign" class="portfolio-gallery">
      <h2>InDesign Projects</h2>
      <figure>
        <img src="Images/Mag-Cover.png" alt="Magazine Cover" />
        <figcaption>Magazine Cover</figcaption>
      </figure>
      <figure>
        <img src="Images/Mag-Inside.png" alt="Magazine Inside" />
        <figcaption>Magazine Inside</figcaption>
      </figure>
    </section>

    <!-- âœ’ï¸ Illustrator Projects -->
    <section id="illustrator" class="portfolio-gallery">
      <h2>Illustrator Projects</h2>
      <figure>
        <img src="Images/logo.png" alt="Mystic" />
        <figcaption>Mystic</figcaption>
      </figure>
      <figure>
        <img src="Images/SUNVOIDMOON.png" alt="Mystic" />
        <figcaption>Mystic</figcaption>
      </figure>
    </section>

    <!-- ðŸŽžï¸ After Effects -->
    <section id="after-effects" class="portfolio-gallery">
      <h2>After Effects Projects</h2>
      <figure>
        <video autoplay loop muted>
          <source src="Images/MMP Projexcttest 3.mp4" type="video/mp4" />
          Your browser does not support the video tag.
        </video>
        <figcaption>2D sees 3D for the first time</figcaption>
      </figure>
    </section>

    <!-- ðŸ” Lightbox for Clicked Projects -->
    <div class="lightbox" id="lightbox">
      <span class="close" onclick="closeLightbox()">&times;</span>
      <img id="lightbox-img" src="" alt="Project Preview" />
    </div>
  </main>

  <!-- â˜ï¸ Cloud Animation Overlay -->
  <div id="cloud-transition"></div>

  <!-- ðŸ”Š Cloud Sound Effect -->
  <audio id="cloud-sound" src="sounds/cloud-whoosh.mp3.wav" preload="auto"></audio>

  <!-- ðŸ’« JS: Star Twinkle Animation -->
  <script>
    function createStarField() {
      const starsContainer = document.getElementById("js-stars");
      if (!starsContainer) return;
    
      for (let i = 0; i < 100; i++) {
        const star = document.createElement("div");
        star.classList.add("star");
        star.style.top = `${Math.random() * 100}%`;
        star.style.left = `${Math.random() * 100}%`;
        star.style.animationDuration = `${2 + Math.random() * 3}s`;
        starsContainer.appendChild(star);
      }
    }
    
    window.addEventListener("DOMContentLoaded", createStarField);
    </script>
    
  <!-- â˜ï¸ Cloud Transition Script -->
  <script>
    function triggerCloudTransition(cloudCount = 500, callback = null) {
      const container = document.getElementById('cloud-transition');
      container.innerHTML = '<div class="cloud-fade-bg"></div>';
      container.style.display = 'block';
      container.style.opacity = '1';
      document.getElementById('cloud-sound').play().catch(() => {});
      for (let i = 0; i < cloudCount; i++) {
        const cloud = document.createElement('img');
        cloud.src = 'Images/cloud-1.png';
        cloud.classList.add('cloud');
        cloud.style.top = `${Math.random() * 70 + 10}%`;
        cloud.style.animationDelay = `${Math.random() * 5}s`;
        container.appendChild(cloud);
      }
      setTimeout(() => {
        container.style.opacity = '0';
        setTimeout(() => {
          container.style.display = 'none';
          container.style.opacity = '1';
          if (callback) callback();
        }, 1000);
      }, 5000);
    }

    // Run cloud on page load
    window.onload = () => {
      setTimeout(() => triggerCloudTransition(), 300);
    };

    // Animate cloud transition on internal links
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('a').forEach(link => {
        const href = link.getAttribute('href');
        if (href && !href.startsWith('#') && !href.startsWith('mailto')) {
          link.addEventListener('click', e => {
            e.preventDefault();
            triggerCloudTransition(50, () => {
              window.location.href = href;
            });
          });
        }
      });
    });
  </script>

  <!-- ðŸ–¼ï¸ Lightbox Functionality -->
  <script>
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightbox-img');
  
    // Show lightbox on click
    document.querySelectorAll('.portfolio-gallery img, .portfolio-gallery video').forEach(item => {
      item.addEventListener('click', () => {
        lightboxImg.src = item.src;
        lightbox.style.display = 'flex';
      });
    });
  
    // Close lightbox when clicking outside the image or the image itself
    lightbox.addEventListener('click', (event) => {
      if (event.target === lightbox || event.target === lightboxImg) {
        lightbox.style.display = 'none';
      }
    });
  
    // Close button (optional, already present)
    function closeLightbox() {
      lightbox.style.display = 'none';
    }
  </script>

  <!-- ðŸ‘ï¸â€ðŸ—¨ï¸ Intersection Observer for Animation on Scroll -->
  <script>
    const figures = document.querySelectorAll(".portfolio-gallery figure");
    const observer = new IntersectionObserver(entries => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add("visible");
        }
      });
    }, { threshold: 0.2 });

    figures.forEach(fig => observer.observe(fig));
  </script>

<script>
  const menuToggle = document.getElementById('menu-toggle');
  const navLinks = document.querySelector('.nav-links');

  // Toggle nav
  menuToggle.addEventListener('click', (e) => {
    e.stopPropagation(); // Prevent it from closing immediately
    navLinks.classList.toggle('active');
  });

  // Close menu when a nav link is clicked
  document.querySelectorAll('.nav-links a').forEach(link => {
    link.addEventListener('click', () => {
      navLinks.classList.remove('active');
    });
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!navLinks.contains(e.target) && !menuToggle.contains(e.target)) {
      navLinks.classList.remove('active');
    }
  });
</script>


</body>
</html>
